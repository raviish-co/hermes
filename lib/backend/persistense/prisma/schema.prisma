generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


model Category {
  categoryId String @id @unique @map("category_id")
  name String
  description String?
  variations String?
  products Product[]

  @@map("categories")
}

model Department {
  departmentId String @id @unique @map("department_id")
  name String

  @@map("departments")
}

model Section {
  sectionId String @id @unique @map("section_id")
  name String
  products Product[]

  @@map("sections")
}

model Product {
  productId String @id @unique @map("product_id")
  name String
  price Float
  categoryId String? @map("category_id")
  sectionId String? @map("section_id")
  category Category? @relation(fields: [categoryId], references: [categoryId])
  section Section? @relation(fields: [sectionId], references: [sectionId])
  tags String?
  variations ProductVariations[]
  fulltext String

  @@map("products")
}

model ProductVariations {
  id Int @id @default(autoincrement())
  variationId String @map("variation_id")
  value String
  product Product @relation(fields: [productId], references: [productId])
  productId String @map("product_id")

  @@map("product_variations")
}